import React, { useState } from 'react';

// Options for dropdowns
const timeOfDayOptions = [
  { value: '', label: 'Pilih waktu...' },
  { value: 'Morning (Pagi)', label: 'Morning (Pagi)' },
  { value: 'Midday/Noon (Siang Hari)', label: 'Midday/Noon (Siang Hari)' },
  { value: 'Afternoon (Sore Hari)', label: 'Afternoon (Sore Hari)' },
  { value: 'Sunset (Matahari Terbenam)', label: 'Sunset (Matahari Terbenam)' },
  { value: 'Dusk/Twilight (Senja)', label: 'Dusk/Twilight (Senja)' },
  { value: 'Night (Malam Hari)', label: 'Night (Malam Hari)' },
  { value: 'Dawn/Early Morning (Dini Hari/Fajar)', label: 'Dawn/Early Morning (Dini Hari/Fajar)' },
];

const cameraMovementOptions = [
  { value: '', label: 'Pilih gerakan...' },
  { value: 'Static Shot (Tangkapan Statis)', label: 'Static Shot (Tangkapan Statis)' },
  { value: 'Panning (left) (Geser (kiri))', label: 'Panning (left) (Geser (kiri))' },
  { value: 'Panning (right) (Geser (kanan))', label: 'Panning (right) (Geser (kanan))' },
  { value: 'Tilting (up) (Memiringkan (atas))', label: 'Tilting (up) (Memiringkan (atas))' },
  { value: 'Tilting (down) (Memiringkan (bawah))', label: 'Tilting (down) (Memiringkan (bawah))' },
  { value: 'Dolly In (Maju Perlahan (Dolly))', label: 'Dolly In (Maju Perlahan (Dolly))' },
  { value: 'Dolly Out (Mundur Perlahan (Dolly))', label: 'Dolly Out (Mundur Perlahan (Dolly))' },
  { value: 'Zoom In (Perbesar (Zoom))', label: 'Zoom In (Perbesar (Zoom))' },
  { value: 'Zoom Out (Perkecil (Zoom))', label: 'Zoom Out (Perkecil (Zoom))' },
  { value: 'Crane Shot (up) (Tangkapan Crane (naik))', label: 'Crane Shot (up) (Tangkapan Crane (naik))' },
  { value: 'Crane Shot (down) (Tangkapan Crane (turun))', label: 'Crane Shot (down) (Tangkapan Crane (turun))' },
  { value: 'Handheld (shaky) (Genggam (goyah))', label: 'Handheld (shaky) (Genggam (goyah))' },
  { value: 'Drone Shot (overhead) (Tangkapan Drone (dari atas))', label: 'Drone Shot (overhead) (Tangkapan Drone (dari atas))' },
  { value: 'Selfie / Vlog Style (Gaya Selfie / Vlog)', label: 'Selfie / Vlog Style (Gaya Selfie / Vlog)' },
  { value: '3D Rotation (Rotasi 3D)', label: '3D Rotation (Rotasi 3D)' },
  { value: 'Arc Left (Putar Busur Kiri)', label: 'Arc Left (Putar Busur Kiri)' },
  { value: 'Arc Right (Putar Busur Kanan)', label: 'Arc Right (Putar Busur Kanan)' },
  { value: 'Boom Down (Boom Turun)', label: 'Boom Down (Boom Turun)' },
  { value: 'Boom Up (Boom Naik)', label: 'Boom Up (Boom Naik)' },
  { value: 'Horizontal Pan Left (Geser Horizontal Kiri)', label: 'Horizontal Pan Left (Geser Horizontal Kiri)' },
  { value: 'Horizontal Pan Right (Geser Horizontal Kanan)', label: 'Horizontal Pan Right (Geser Horizontal Kanan)' },
  { value: 'Pedestal Down (Pedestal Turun)', label: 'Pedestal Down (Pedestal Turun)' },
  { value: 'Pedestal Up (Pedestal Naik)', label: 'Pedestal Up (Pedestal Naik)' },
  { value: 'Roll Left (Bergulir Kiri)', label: 'Roll Left (Bergulir Kiri)' },
  { value: 'Roll Right (Bergulir Kanan)', label: 'Roll Right (Bergulir Kanan)' },
  { value: 'Truck Left (Truk Kiri (Geser Lateral))', label: 'Truck Left (Truk Kiri (Geser Lateral))' },
  { value: 'Truck Right (Truk Kanan (Geser Lateral))', label: 'Truck Right (Truk Kanan (Geser Lateral))' },
  { value: 'Whip Pan (Whip Pan (Geser Cepat))', label: 'Whip Pan (Whip Pan (Geser Cepat))' },
];

const lightingStyleOptions = [
  { value: '', label: 'Pilih pencahayaan...' },
  { value: 'Natural Sunlight (Cahaya Matahari Alami)', label: 'Natural Sunlight (Cahaya Matahari Alami)' },
  { value: 'Golden Hour (Jam Emas (Golden Hour))', label: 'Golden Hour (Jam Emas (Golden Hour))' },
  { value: 'Blue Hour (Jam Biru (Blue Hour))', label: 'Blue Hour (Jam Biru (Blue Hour))' },
  { value: 'Overcast Sky (Langit Mendung)', label: 'Overcast Sky (Langit Mendung)' },
  { value: 'Studio Lighting (Softbox, Key Light) (Pencahayaan Studio (Softbox, Key Light))', label: 'Studio Lighting (Softbox, Key Light) (Pencahayaan Studio (Softbox, Key Light))' },
  { value: 'Dramatic (Chiaroscuro) (Dramatis (Chiaroscuro))', label: 'Dramatic (Chiaroscuro) (Dramatis (Chiaroscuro))' },
  { value: 'Low-Key Lighting (Pencahayaan Low-Key)', label: 'Low-Key Lighting (Pencahayaan Low-Key)' },
  { value: 'High-Key Lighting (Pencahayaan High-Key)', label: 'High-Key Lighting (Pencahayaan High-Key)' },
  { value: 'Neon Lights (Lampu Neon)', label: 'Neon Lights (Lampu Neon)' },
  { value: 'Moonlight (Cahaya Bulan)', label: 'Moonlight (Cahaya Bulan)' },
  { value: 'Candlelight (Cahaya Lilin)', label: 'Candlelight (Cahaya Lilin)' },
  { value: 'Volumetric Lighting (Pencahayaan Volumetrik)', label: 'Volumetric Lighting (Pencahayaan Volumetrik)' },
  { value: 'Silhouette Lighting (Pencahayaan Siluet)', label: 'Silhouette Lighting (Pencahayaan Siluet)' },
];

const videoStyleOptions = [
  { value: '', label: 'Pilih gaya...' },
  { value: 'Cinematic (Sinematik)', label: 'Cinematic (Sinematik)' },
  { value: 'Photorealistic (Fotorealistik)', label: 'Photorealistic (Fotorealistik)' },
  { value: 'Anime Inspired (Terinspirasi Anime)', label: 'Anime Inspired (Terinspirasi Anime)' },
  { value: 'Fantasy Epic (Epik Fantasi)', label: 'Fantasy Epic (Epik Fantasi)' },
  { value: 'Sci-Fi Noir (Noir Fiksi Ilmiah)', label: 'Sci-Fi Noir (Noir Fiksi Ilmiah)' },
  { value: 'Documentary Style (Gaya Dokumenter)', label: 'Documentary Style (Gaya Dokumenter)' },
  { value: 'Surreal / Dreamlike (Surealis / Seperti Mimpi)', label: 'Surreal / Dreamlike (Surealis / Seperti Mimpi)' },
  { value: 'Impressionistic (Impresionistik)', label: 'Impressionistic (Impresionistik)' },
  { value: 'Vintage Film (8mm, 16mm) (Film Antik (8mm, 16mm))', label: 'Vintage Film (8mm, 16mm) (Film Antik (8mm, 16mm))' },
  { value: 'Cyberpunk (Cyberpunk)', label: 'Cyberpunk (Cyberpunk)' },
  { value: 'Steampunk (Steampunk)', label: 'Steampunk (Steampunk)' },
  { value: 'Watercolor Painting Style (Gaya Lukisan Cat Air)', label: 'Watercolor Painting Style (Gaya Lukisan Cat Air)' },
  { value: 'Claymation Style (Gaya Claymation)', label: 'Claymation Style (Gaya Claymation)' },
];

const videoMoodOptions = [
  { value: '', label: 'Pilih suasana...' },
  { value: 'Tense / Suspenseful (Tegang / Penuh Ketegangan)', label: 'Tense / Suspenseful (Tegang / Penuh Ketegangan)' },
  { value: 'Mysterious / Enigmatic (Misterius / Enigmatik)', label: 'Mysterious / Enigmatic (Misterius / Enigmatik)' },
  { value: 'Magical / Whimsical (Ajaib / Unik)', label: 'Magical / Whimsical (Ajaib / Unik)' },
  { value: 'Eerie / Haunting (Seram / Menghantui)', label: 'Eerie / Haunting (Seram / Menghantui)' },
  { value: 'Peaceful / Serene (Damai / Tenang)', label: 'Peaceful / Serene (Damai / Tenang)' },
  { value: 'Heroic / Epic (Heroik / Epik)', label: 'Heroic / Epic (Heroik / Epik)' },
  { value: 'Romantic / Sentimental (Romantis / Sentimental)', label: 'Romantic / Sentimental (Romantis / Sentimental)' },
  { value: 'Comedic / Lighthearted (Komedis / Ringan)', label: 'Comedic / Lighthearted (Komedis / Ringan)' },
  { value: 'Dark / Somber (Gelap / Muram)', label: 'Dark / Somber (Gelap / Muram)' },
  { value: 'Uplifting / Inspirational (Membangkitkan Semangat / Inspiratif)', label: 'Uplifting / Inspirational (Membangkitkan Semangat / Inspiratif)' },
  { value: 'Chaotic / Frenetic (Kacau / Hiruk Pikuk)', label: 'Chaotic / Frenetic (Kacau / Hiruk Pikuk)' },
  { value: 'Nostalgic (Nostalgia)', label: 'Nostalgic (Nostalgia)' },
];

const creativeAssistantCategoryOptions = [
  { value: 'Subject', label: 'Subject' },
  { value: 'Action', label: 'Action' },
  { value: 'Expression', label: 'Expression' },
  { value: 'Setting / Environment', label: 'Setting / Environment' },
  { value: 'Time of Day', label: 'Time of Day' },
  { value: 'Camera Movement', label: 'Camera Movement' },
  { value: 'Lighting', label: 'Lighting' },
  { value: 'Video Style', label: 'Video Style' },
  { value: 'Video Mood', label: 'Video Mood' },
  { value: 'Sound or Music', label: 'Sound or Music' },
  { value: 'Spoken Narration', label: 'Spoken Narration' },
  { value: 'Additional Details', label: 'Additional Details' },
  { value: 'General Inspiration', label: 'General Inspiration' },
];

const App = () => {
  // States for prompt construction elements
  const [subject, setSubject] = useState('');
  const [action, setAction] = useState('');
  const [expression, setExpression] = useState('');
  const [setting, setSetting] = useState('');
  const [timeOfDay, setTimeOfDay] = useState('');
  const [cameraMovement, setCameraMovement] = useState('');
  const [lightingStyle, setLightingStyle] = useState('');
  const [videoStyle, setVideoStyle] = useState('');
  const [videoMood, setVideoMood] = useState('');
  const [soundMusic, setSoundMusic] = useState('');
  const [spokenNarration, setSpokenNarration] = useState('');
  const [additionalDetails, setAdditionalDetails] = useState('');

  const [generatedPrompt, setGeneratedPrompt] = useState('');
  const [isGenerating, setIsGenerating] = useState(false);

  // States for Creative Assistant
  const [creativeAssistantKeyword, setCreativeAssistantKeyword] = useState('');
  const [creativeAssistantCategory, setCreativeAssistantCategory] = useState('General Inspiration');
  const [creativeAssistantIdeas, setCreativeAssistantIdeas] = useState('');
  const [isGettingIdeas, setIsGettingIdeas] = useState(false);

  /**
   * Generates the main writing prompt based on all selected elements.
   */
  const generatePrompt = async () => {
    setIsGenerating(true);
    setGeneratedPrompt('');

    let promptParts = [];
    if (subject) promptParts.push(`Subjek: ${subject}`);
    if (action) promptParts.push(`Aksi: ${action}`);
    if (expression) promptParts.push(`Ekspresi: ${expression}`);
    if (setting) promptParts.push(`Tempat/Lingkungan: ${setting}`);
    if (timeOfDay) promptParts.push(`Waktu Kejadian: ${timeOfDay.split('(')[0].trim()}`); // Take only the English part
    if (cameraMovement) promptParts.push(`Gerakan Kamera: ${cameraMovement.split('(')[0].trim()}`);
    if (lightingStyle) promptParts.push(`Gaya Pencahayaan: ${lightingStyle.split('(')[0].trim()}`);
    if (videoStyle) promptParts.push(`Gaya Video/Estetika: ${videoStyle.split('(')[0].trim()}`);
    if (videoMood) promptParts.push(`Suasana Video: ${videoMood.split('(')[0].trim()}`);
    if (soundMusic) promptParts.push(`Suara/Musik: ${soundMusic}`);
    if (spokenNarration) promptParts.push(`Narasi/Dialog: ${spokenNarration}`);
    if (additionalDetails) promptParts.push(`Detail Tambahan: ${additionalDetails}`);

    let llmPrompt = "Hasilkan satu prompt menulis kreatif yang mendetail dan inspiratif dalam bahasa Indonesia, menggabungkan elemen-elemen berikut: \n\n";
    if (promptParts.length === 0) {
      llmPrompt = "Hasilkan satu prompt menulis kreatif yang singkat dan inspiratif secara umum dalam bahasa Indonesia.";
    } else {
      llmPrompt += promptParts.join('\n');
    }
    llmPrompt += "\n\nPastikan prompt akhir bersifat koheren dan menggugah imajinasi.";

    try {
      let chatHistory = [];
      chatHistory.push({ role: "user", parts: [{ text: llmPrompt }] });

      const payload = { contents: chatHistory };
      const apiKey = "";
      const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

      const response = await fetch(apiUrl, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(payload)
      });

      const result = await response.json();

      if (result.candidates && result.candidates.length > 0 &&
          result.candidates[0].content && result.candidates[0].content.parts &&
          result.candidates[0].content.parts.length > 0) {
        setGeneratedPrompt(result.candidates[0].content.parts[0].text);
      } else {
        setGeneratedPrompt("Maaf, tidak dapat menghasilkan prompt. Silakan coba lagi.");
        console.error("Unexpected LLM response structure:", result);
      }
    } catch (error) {
      console.error("Error generating prompt:", error);
      setGeneratedPrompt("Terjadi kesalahan saat menghasilkan prompt. Silakan coba lagi.");
    } finally {
      setIsGenerating(false);
    }
  };

  /**
   * Clears all input fields and generated prompts.
   */
  const clearAllInputs = () => {
    setSubject('');
    setAction('');
    setExpression('');
    setSetting('');
    setTimeOfDay('');
    setCameraMovement('');
    setLightingStyle('');
    setVideoStyle('');
    setVideoMood('');
    setSoundMusic('');
    setSpokenNarration('');
    setAdditionalDetails('');
    setGeneratedPrompt('');
    setCreativeAssistantKeyword('');
    setCreativeAssistantCategory('General Inspiration');
    setCreativeAssistantIdeas('');
  };

  /**
   * Gets AI ideas for a specific category from the Creative Assistant.
   */
  const getCreativeAIDeas = async () => {
    setIsGettingIdeas(true);
    setCreativeAssistantIdeas('');

    let llmPrompt = `Berikan beberapa ide untuk kategori "${creativeAssistantCategory}" dalam bahasa Indonesia. `;
    if (creativeAssistantKeyword.trim() !== '') {
      llmPrompt += `Ide-ide tersebut harus berhubungan dengan kata kunci atau ide ini: "${creativeAssistantKeyword.trim()}".`;
    } else {
      llmPrompt += `Berikan ide-ide umum dan menarik.`;
    }
    llmPrompt += ` Harap berikan ide-ide dalam format daftar poin atau paragraf singkat.`;

    try {
      let chatHistory = [];
      chatHistory.push({ role: "user", parts: [{ text: llmPrompt }] });

      const payload = { contents: chatHistory };
      const apiKey = "";
      const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

      const response = await fetch(apiUrl, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(payload)
      });

      const result = await response.json();

      if (result.candidates && result.candidates.length > 0 &&
          result.candidates[0].content && result.candidates[0].content.parts &&
          result.candidates[0].content.parts.length > 0) {
        setCreativeAssistantIdeas(result.candidates[0].content.parts[0].text);
      } else {
        setCreativeAssistantIdeas("Maaf, tidak dapat menghasilkan ide. Silakan coba lagi.");
        console.error("Unexpected LLM response structure for creative assistant:", result);
      }
    } catch (error) {
      console.error("Error getting creative assistant ideas:", error);
      setCreativeAssistantIdeas("Terjadi kesalahan saat mendapatkan ide. Silakan coba lagi.");
    } finally {
      setIsGettingIdeas(false);
    }
  };

  return (
    <div className="min-h-screen bg-gradient-to-br from-purple-100 to-blue-100 flex items-center justify-center p-4 font-sans">
      <div className="bg-white p-8 rounded-xl shadow-2xl w-full max-w-2xl">
        <h1 className="text-3xl font-extrabold text-center text-purple-800 mb-6">
          Generator Prompt Kreatif Tingkat Lanjut
        </h1>
        <p className="text-gray-600 text-center mb-8">
          Bangun prompt tulisan yang unik dengan memilih berbagai elemen atau dapatkan ide dari Asisten Kreatif.
        </p>

        {/* Prompt Construction Elements */}
        <div className="mb-8">
          <h2 className="text-2xl font-bold text-purple-700 mb-4">Prompt Construction Elements</h2>

          {/* Subject */}
          <div className="mb-4">
            <label htmlFor="subject" className="block text-gray-700 text-sm font-semibold mb-2">
              1. Subject / Subjek
            </label>
            <input
              type="text"
              id="subject"
              value={subject}
              onChange={(e) => setSubject(e.target.value)}
              className="w-full px-4 py-2 border border-purple-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"
              placeholder="misalnya: Seorang penjelajah waktu"
            />
          </div>

          {/* Action */}
          <div className="mb-4">
            <label htmlFor="action" className="block text-gray-700 text-sm font-semibold mb-2">
              2. Action / Aksi
            </label>
            <input
              type="text"
              id="action"
              value={action}
              onChange={(e) => setAction(e.target.value)}
              className="w-full px-4 py-2 border border-purple-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"
              placeholder="misalnya: menemukan artefak kuno"
            />
          </div>

          {/* Expression */}
          <div className="mb-4">
            <label htmlFor="expression" className="block text-gray-700 text-sm font-semibold mb-2">
              3. Expression / Ekspresi
            </label>
            <input
              type="text"
              id="expression"
              value={expression}
              onChange={(e) => setExpression(e.target.value)}
              className="w-full px-4 py-2 border border-purple-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"
              placeholder="misalnya: dengan ekspresi terkejut"
            />
          </div>

          {/* Setting / Environment */}
          <div className="mb-4">
            <label htmlFor="setting" className="block text-gray-700 text-sm font-semibold mb-2">
              4. Setting / Environment / Tempat/Lingkungan
            </label>
            <input
              type="text"
              id="setting"
              value={setting}
              onChange={(e) => setSetting(e.target.value)}
              className="w-full px-4 py-2 border border-purple-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"
              placeholder="misalnya: di kota masa depan yang sepi"
            />
          </div>

          {/* Time of Day */}
          <div className="mb-4">
            <label htmlFor="timeOfDay" className="block text-gray-700 text-sm font-semibold mb-2">
              5. Time of Day / Waktu Kejadian
            </label>
            <select
              id="timeOfDay"
              value={timeOfDay}
              onChange={(e) => setTimeOfDay(e.target.value)}
              className="w-full px-4 py-2 border border-purple-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white"
            >
              {timeOfDayOptions.map((option) => (
                <option key={option.value} value={option.value}>
                  {option.label}
                </option>
              ))}
            </select>
          </div>

          {/* Camera Movement */}
          <div className="mb-4">
            <label htmlFor="cameraMovement" className="block text-gray-700 text-sm font-semibold mb-2">
              6. Camera Movement / Gerakan Kamera
            </label>
            <select
              id="cameraMovement"
              value={cameraMovement}
              onChange={(e) => setCameraMovement(e.target.value)}
              className="w-full px-4 py-2 border border-purple-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white"
            >
              {cameraMovementOptions.map((option) => (
                <option key={option.value} value={option.value}>
                  {option.label}
                </option>
              ))}
            </select>
          </div>

          {/* Lighting Style */}
          <div className="mb-4">
            <label htmlFor="lightingStyle" className="block text-gray-700 text-sm font-semibold mb-2">
              7. Lighting Style / Gaya Pencahayaan
            </label>
            <select
              id="lightingStyle"
              value={lightingStyle}
              onChange={(e) => setLightingStyle(e.target.value)}
              className="w-full px-4 py-2 border border-purple-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white"
            >
              {lightingStyleOptions.map((option) => (
                <option key={option.value} value={option.value}>
                  {option.label}
                </option>
              ))}
            </select>
          </div>

          {/* Video Style / Aesthetic */}
          <div className="mb-4">
            <label htmlFor="videoStyle" className="block text-gray-700 text-sm font-semibold mb-2">
              8. Video Style / Aesthetic / Gaya Video/Estetika
            </label>
            <select
              id="videoStyle"
              value={videoStyle}
              onChange={(e) => setVideoStyle(e.target.value)}
              className="w-full px-4 py-2 border border-purple-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white"
            >
              {videoStyleOptions.map((option) => (
                <option key={option.value} value={option.value}>
                  {option.label}
                </option>
              ))}
            </select>
          </div>

          {/* Video Mood / Atmosphere */}
          <div className="mb-4">
            <label htmlFor="videoMood" className="block text-gray-700 text-sm font-semibold mb-2">
              9. Video Mood / Atmosphere / Suasana Video
            </label>
            <select
              id="videoMood"
              value={videoMood}
              onChange={(e) => setVideoMood(e.target.value)}
              className="w-full px-4 py-2 border border-purple-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white"
            >
              {videoMoodOptions.map((option) => (
                <option key={option.value} value={option.value}>
                  {option.label}
                </option>
              ))}
            </select>
          </div>

          {/* Sound / Music */}
          <div className="mb-4">
            <label htmlFor="soundMusic" className="block text-gray-700 text-sm font-semibold mb-2">
              10. Sound / Music / Suara/Musik
            </label>
            <input
              type="text"
              id="soundMusic"
              value={soundMusic}
              onChange={(e) => setSoundMusic(e.target.value)}
              className="w-full px-4 py-2 border border-purple-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"
              placeholder="misalnya: musik orkestra yang epik"
            />
          </div>

          {/* Spoken Narration / Dialogue */}
          <div className="mb-4">
            <label htmlFor="spokenNarration" className="block text-gray-700 text-sm font-semibold mb-2">
              11. Spoken Narration / Dialogue / Narasi/Dialog
            </label>
            <input
              type="text"
              id="spokenNarration"
              value={spokenNarration}
              onChange={(e) => setSpokenNarration(e.target.value)}
              className="w-full px-4 py-2 border border-purple-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"
              placeholder="misalnya: narasi tentang takdir"
            />
          </div>

          {/* Additional Details */}
          <div className="mb-4">
            <label htmlFor="additionalDetails" className="block text-gray-700 text-sm font-semibold mb-2">
              12. Additional Details / Detail Tambahan
            </label>
            <textarea
              id="additionalDetails"
              value={additionalDetails}
              onChange={(e) => setAdditionalDetails(e.target.value)}
              rows="3"
              className="w-full px-4 py-2 border border-purple-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"
              placeholder="misalnya: dengan efek visual realistis dan detail rumit"
            ></textarea>
          </div>

          {/* Action Buttons */}
          <div className="flex flex-col sm:flex-row gap-4 mt-6">
            <button
              onClick={generatePrompt}
              disabled={isGenerating}
              className="flex-1 bg-gradient-to-r from-purple-600 to-blue-600 text-white font-bold py-3 px-6 rounded-lg shadow-lg hover:from-purple-700 hover:to-blue-700 transition duration-300 transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-blue-300 disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center"
            >
              {isGenerating ? (
                <>
                  <svg className="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                    <circle className="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" strokeWidth="4"></circle>
                    <path className="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                  </svg>
                  Menghasilkan...
                </>
              ) : (
                "Hasilkan Prompt AI"
              )}
            </button>
            <button
              onClick={clearAllInputs}
              className="flex-1 bg-gray-300 text-gray-800 font-bold py-3 px-6 rounded-lg shadow-lg hover:bg-gray-400 transition duration-300 transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-gray-300"
            >
              Hapus Semua Input
            </button>
          </div>
        </div>

        {/* Generated Prompts */}
        {generatedPrompt && (
          <div className="mt-8 bg-purple-50 border border-purple-200 rounded-lg p-6 shadow-md">
            <h2 className="text-xl font-bold text-purple-700 mb-3">Generated Prompts:</h2>
            <p className="text-gray-800 leading-relaxed whitespace-pre-wrap">
              {generatedPrompt}
            </p>
          </div>
        )}

        <hr className="my-10 border-t-2 border-purple-200" />

        {/* Creative Assistant (Gemini) */}
        <div className="mb-8">
          <h2 className="text-2xl font-bold text-purple-700 mb-4">Creative Assistant (Gemini)</h2>
          <p className="text-gray-600 mb-4">
            Dapatkan ide-ide AI untuk elemen prompt tertentu.
          </p>

          {/* Keyword / Idea for Assistant */}
          <div className="mb-4">
            <label htmlFor="creativeAssistantKeyword" className="block text-gray-700 text-sm font-semibold mb-2">
              Keyword / Idea (opsional untuk Inspirasi Umum)
            </label>
            <input
              type="text"
              id="creativeAssistantKeyword"
              value={creativeAssistantKeyword}
              onChange={(e) => setCreativeAssistantKeyword(e.target.value)}
              className="w-full px-4 py-2 border border-purple-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"
              placeholder="misalnya: hutan, robot, cinta"
            />
          </div>

          {/* Category for Suggestion */}
          <div className="mb-4">
            <label htmlFor="creativeAssistantCategory" className="block text-gray-700 text-sm font-semibold mb-2">
              Category for Suggestion
            </label>
            <select
              id="creativeAssistantCategory"
              value={creativeAssistantCategory}
              onChange={(e) => setCreativeAssistantCategory(e.target.value)}
              className="w-full px-4 py-2 border border-purple-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white"
            >
              {creativeAssistantCategoryOptions.map((option) => (
                <option key={option.value} value={option.value}>
                  {option.label}
                </option>
              ))}
            </select>
          </div>

          {/* Get AI Ideas Button */}
          <button
            onClick={getCreativeAIDeas}
            disabled={isGettingIdeas}
            className="w-full bg-blue-600 text-white font-bold py-3 px-6 rounded-lg shadow-lg hover:bg-blue-700 transition duration-300 transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-blue-300 disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center"
          >
            {isGettingIdeas ? (
              <>
                <svg className="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                  <circle className="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" strokeWidth="4"></circle>
                  <path className="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                </svg>
                Mendapatkan Ide...
              </>
            ) : (
              "Dapatkan Ide AI"
            )}
          </button>

          {/* Creative Assistant Ideas Display */}
          {creativeAssistantIdeas && (
            <div className="mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6 shadow-md">
              <h2 className="text-xl font-bold text-blue-700 mb-3">Ide Asisten Kreatif Anda:</h2>
              <p className="text-gray-800 leading-relaxed whitespace-pre-wrap">
                {creativeAssistantIdeas}
              </p>
            </div>
          )}
        </div>
      </div>
    </div>
  );
};

export default App;
